<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Photo labeling</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Merriweather|Roboto+Condensed:300,400&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body style="width: 150%">
    <div class="row">
      <div class="col-sm-9" style="width: 1600px; height: 700px">
        <div class=left1 style="width: 579px; height: 503px; margin:10px">
          <!-- 286 / 53 -->
          <div class =adjective id ="adjective1" style= "text-align: left">
          </div>

          <div class = "red-blue" style=" background-color: rgba(65,122,255,0.2);">
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "L1"></div>
              <div class="smallbox left1 " id = "L2"></div>
              <div class="smallbox left1 " id = "L3"></div>
              <div class="smallbox left1 " id = "L4"></div>
            </div>
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "L5"></div>
              <div class="smallbox left1 " id = "L6"></div>
              <div class="smallbox left1 " id = "L7"></div>
              <div class="smallbox left1 " id = "L8"></div>
            </div>
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "L9"></div>
              <div class="smallbox left1 " id = "L10"></div>
              <div class="smallbox left1 " id = "L11"></div>
              <div class="smallbox left1 " id = "L12"></div>
            </div>
          </div>
        </div>
        <!-- 152 / 53 -->
        <div class = left1 style="width: 310px; height: 503px; margin:10px">
        <div class =adjective style= "text-align: center">
          NEUTRAL 
        </div>
        <div class="neutral">
          <div style="width: 100%; height: 33.3%">
            <div class="left1" id = "N1" style="width: 50%; height: 100%"></div>
            <div class="left1" id = "N2" style="width: 50%; height: 100%"></div>
          </div>
          <div style="width: 100%; height: 33.3%">
            <div class="left1" id = "N3" style="width: 50%; height: 100%"></div>
            <div class="left1" id = "N4" style="width: 50%; height: 100%"></div>
          </div>
          <div style="width: 100%; height: 33.3%">
            <div class="left1" id = "N5" style="width: 50%; height: 100%"></div>
            <div class="left1" id = "N6" style="width: 50%; height: 100%"></div>
          </div>
        </div>
      </div>
        <!-- 286 / 53 -->
      <div class= left1 style="margin:10px">
          <div class =adjective id ="adjective2" style= "text-align: right">
          </div>
        <div class = "red-blue" style="background-color: rgba(242,108,108,0.2)">
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "R1"></div>
              <div class="smallbox left1 " id = "R2"></div>
              <div class="smallbox left1 " id = "R3"></div>
              <div class="smallbox left1 " id = "R4"></div>
            </div>
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "R5"></div>
              <div class="smallbox left1 " id = "R6"></div>
              <div class="smallbox left1 " id = "R7"></div>
              <div class="smallbox left1 " id = "R8"></div>
            </div>
            <div style="width: 100%; height: 33.3%">
              <div class="smallbox left1 " id = "R9"></div>
              <div class="smallbox left1 " id = "R10"></div>
              <div class="smallbox left1 " id = "R11"></div>
              <div class="smallbox left1 " id = "R12"></div>
            </div>
        </div>
      </div>
      <div style="width: 100%; height:530px; text-align: center">
      </div>
      <div class=description id = "description1">
        Please review the images above in a way that the images are placed in the right category.
      </div>
      <div class=description id = "description2">
      </div>
      <div class=description id = "description3">
      You can change the category of an image by hovering over. When you ready, confirm your label"
      </div>
      <div style="width: 100%; text-align: center; margin: 10px">
        <button class= "button-confirm" style="">
        CONFIRM
         </button>
      </div>
    </div>
    <div class= "col-sm-3" style="width: 601px; height: 700px; margin-left:10px">
        <div class =adjective style="height:60px">
        </div>
        <div class="tsne">
          <div style="position:absolute; left:32%; top:35%; font-size:40px">T-SNE VIEW</div>
        </div>
        <div style="width: 100%; height:24px; text-align: center">
        </div>
        <div style="height: 100px; text-align: left">
          <svg xmlns="http://www.w3.org/2000/svg" width="364" height="50" viewBox="0 0 364 50">
          <text id="Labeled_adjective_1_" data-name="Labeled (adjective 1)" transform="translate(28 19)" fill="#707070" font-size="18" font-family="RobotoCondensed-Light, Roboto" font-weight="300"><tspan x="0" y="0">Labeled</tspan></text>
          <text id="Unlabeled" transform="translate(250 19)" fill="#707070" font-size="18" font-family="RobotoCondensed-Light, Roboto" font-weight="300"><tspan x="0" y="0">Unlabeled</tspan></text>
          <text id="Currently_shown" data-name="Currently shown" transform="translate(250 45)" fill="#707070" font-size="18" font-family="RobotoCondensed-Light, Roboto" font-weight="300"><tspan x="0" y="0">Currently shown</tspan></text>
          <text id="Labeled_adjective_2_" data-name="Labeled (adjective 2)" transform="translate(28 45)" fill="#707070" font-size="18" font-family="RobotoCondensed-Light, Roboto" font-weight="300"><tspan x="0" y="0">Labeled</tspan></text>
          <rect id="사각형_69" data-name="사각형 69" width="18" height="22" transform="translate(0 2)" fill="#417aff"/>
          <g id="사각형_72" data-name="사각형 72" transform="translate(222 2)" fill="none" stroke="#707070" stroke-width="1">
            <rect width="18" height="22" stroke="none"/>
            <rect x="0.5" y="0.5" width="17" height="21" fill="none"/>
          </g>
          <g id="사각형_73" data-name="사각형 73" transform="translate(222 28)" fill="none" stroke="#8af52d" stroke-width="1">
            <rect width="18" height="22" stroke="none"/>
            <rect x="0.5" y="0.5" width="17" height="21" fill="none"/>
          </g>
          <rect id="사각형_70" data-name="사각형 70" width="18" height="22" transform="translate(0 28)" fill="#f26c6c"/>
        </svg>

          </div>   
      </div>
    </div>
    <script type = "text/javascript">
      /* create queues */
      class Queue {
        constructor() {
          this._arr = [];
          this.cnt = 0;
        }
        enqueue(item) {
          this._arr.push(item);
          this.cnt += 1;
        }
        dequeue() {
          this.cnt -= 1;
          return this._arr.shift();
        }
        pop(){
          return this._arr[0];
        }
      }
      const neutral_queue = new Queue();
      const blue_queue = new Queue();
      const red_queue = new Queue();


      /* parse data from flask and display on each grids */
      var keyword_list = JSON.parse('{{keyword_list | tojson | safe}}');
      var left_word = "more likely "+ keyword_list[0];
      var right_word = "more likely not " + keyword_list[0];
      $('#adjective1').append(left_word);
      $('#adjective2').append(right_word);
      var sec_description = "Images in the left box will be labeled as \"" + keyword_list[0] +
      "\", in the middle box as \"NEUTRAL\", and in the right box as \"not "+ keyword_list[0]+"\"."
      $('#description2').append(sec_description);
      var images = JSON.parse('{{images | tojson | safe}}');
      console.log(images);
      var index =0;
      
      //  blue queue
      for(var i=0; i< 6;i++){
          blue_queue.enqueue(images[i]);
          index +=1;          
      }
      for(var i=0; i<blue_queue._arr.length; i++){
        var img_node = document.createElement('img');
        img_node.setAttribute("class","current_img");
        img_node.style.width = '100%';
        img_node.style.height = '100%';
        // img_node.style.padding = '10px';
        img_node.src = 'static/image/FFHQ_SAMPLE/' + blue_queue._arr[i];
        console.log(img_node.src);
        switch(i){
          case 0:
            $('#L1').append(img_node);
            break;
          case 1:
            $('#L2').append(img_node);
            break;
          case 2:
            $('#L3').append(img_node);
            break;
          case 3:
            $('#L4').append(img_node);
            break;
          case 4:
            $('#L7').append(img_node);
            break;
          case 5:
            $('#L11').append(img_node);
            break;
        }
      }

      //  red queue
        for(var i=6; i< 12;i++){
            red_queue.enqueue(images[i]);
            index +=1;          
        }
        for(var i=0; i<red_queue._arr.length; i++){
        var node = document.createElement('div');
        var img_node = document.createElement('img');
        img_node.setAttribute("class","current_img");
        img_node.style.width = '100%';
        img_node.style.height = '100%';
        img_node.style.padding = '10px';

        img_node.src = 'static/image/FFHQ_SAMPLE/' + red_queue._arr[i];
        console.log(img_node.src);
        switch(i){
          case 0:
            $('#R1').append(img_node);
            break;
          case 1:
            $('#R2').append(img_node);
            break;
          case 2:
            $('#R3').append(img_node);
            break;
          case 3:
            $('#R4').append(img_node);
            break;
          case 4:
            $('#R7').append(img_node);
            break;
          case 5:
            $('#R11').append(img_node);
            break;
        }
      }

      //  neutral queue
        for(var i=12; i< 14;i++){
            neutral_queue.enqueue(images[i]);
            index +=1;          
        }
        for(var i=0; i<neutral_queue._arr.length; i++){
        var img_node = document.createElement('img');
        img_node.setAttribute("class","current_img");
        img_node.style.width = '100%';
        img_node.style.height = '100%';
        img_node.style.padding = '10px';

        img_node.src = 'static/image/FFHQ_SAMPLE/' + neutral_queue._arr[i];
        console.log(img_node.src);
        switch(i){
          case 0:
            $('#N1').append(img_node);
            break;
          case 1:
            $('#N2').append(img_node);
            break;
        }
      }











    </script>

   </body>
</html>